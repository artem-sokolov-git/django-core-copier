from pathlib import Path

import environ
from split_settings.tools import include

BASE_DIR = Path(__file__).resolve().parent.parent.parent.parent

env = environ.Env(
    ########################################################################
    ## DJANGO ENVIRONMENT
    DJANGO_ENV=(str, "development"),
    ########################################################################
    ## SECURITY
    SECRET_KEY=(str, "dev-only-secret-key-change-in-production-immediately"),
    DEBUG=(bool, False),
    ALLOWED_HOSTS=(list, []),
    ########################################################################
    {%- if database == "postgresql" %}
    ## POSTGRES SETTINGS
    POSTGRES_DB=(str, "postgres_db"),
    POSTGRES_USER=(str, "postgres"),
    POSTGRES_PASSWORD=(str, "dev_psql_password_change_me"),
    POSTGRES_HOST=(str, "localhost"),
    {%- else %}
    ## MYSQL SETTINGS
    MYSQL_DATABASE=(str, "mysql_db"),
    MYSQL_USER=(str, "mysql"),
    MYSQL_PASSWORD=(str, "dev_mysql_password_change_me"),
    MYSQL_HOST=(str, "localhost"),
    {%- endif %}
    ########################################################################
    ## INTERNATIONALIZATION
    LANGUAGE_CODE=(str, "en-us"),
    TIME_ZONE=(str, "UTC"),
    USE_I18N=(bool, True),
    USE_TZ=(bool, True),
    ########################################################################
    ## STATIC
    STATIC_URL=(str, "static/"),
    STATIC_ROOT=(str, BASE_DIR / "staticfiles"),
)

environ.Env.read_env(BASE_DIR / ".env")

ENVIRONMENT = env("DJANGO_ENV")

__all__ = ["env", "BASE_DIR", "ENVIRONMENT"]

include(
    "base.py",
    f"{ENVIRONMENT}.py",
)
